{
  "db_name": "PostgreSQL",
  "query": "\n        SELECT\n            n.nspname AS \"schema!\",\n            i.relname AS \"name!\",\n            tn.nspname AS \"table_schema!\",\n            t.relname AS \"table_name!\",\n            am.amname AS \"index_type!\",\n            idx.indisunique AS \"is_unique!\",\n            idx.indisclustered AS \"is_clustered!\",\n            idx.indisvalid AS \"is_valid!\",\n            pg_catalog.pg_get_expr(idx.indpred, idx.indrelid) AS \"predicate?\",\n            ts.spcname AS \"tablespace?\",\n            d.description AS \"comment?\"\n        FROM pg_index idx\n        JOIN pg_class i ON idx.indexrelid = i.oid\n        JOIN pg_namespace n ON i.relnamespace = n.oid\n        JOIN pg_class t ON idx.indrelid = t.oid\n        JOIN pg_namespace tn ON t.relnamespace = tn.oid\n        JOIN pg_am am ON i.relam = am.oid\n        LEFT JOIN pg_tablespace ts ON i.reltablespace = ts.oid\n        LEFT JOIN pg_description d ON d.objoid = i.oid AND d.objsubid = 0\n        WHERE n.nspname NOT IN ('pg_catalog', 'information_schema', 'pg_toast')\n          AND tn.nspname NOT IN ('pg_catalog', 'information_schema', 'pg_toast')\n          AND NOT idx.indisprimary  -- We handle primary keys separately\n          AND NOT EXISTS (  -- Exclude indexes that back constraints (handled by constraint catalog)\n              SELECT 1 FROM pg_constraint c\n              WHERE c.conindid = idx.indexrelid\n              AND c.contype IN ('u', 'x')  -- Only unique/exclusion constraints own their backing index; FKs just reference\n          )\n          -- Exclude indexes that belong to extensions\n          AND NOT EXISTS (\n              SELECT 1 FROM pg_depend dep\n              WHERE dep.objid = i.oid\n              AND dep.deptype = 'e'\n          )\n        ORDER BY n.nspname, i.relname\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "schema!",
        "type_info": "Name"
      },
      {
        "ordinal": 1,
        "name": "name!",
        "type_info": "Name"
      },
      {
        "ordinal": 2,
        "name": "table_schema!",
        "type_info": "Name"
      },
      {
        "ordinal": 3,
        "name": "table_name!",
        "type_info": "Name"
      },
      {
        "ordinal": 4,
        "name": "index_type!",
        "type_info": "Name"
      },
      {
        "ordinal": 5,
        "name": "is_unique!",
        "type_info": "Bool"
      },
      {
        "ordinal": 6,
        "name": "is_clustered!",
        "type_info": "Bool"
      },
      {
        "ordinal": 7,
        "name": "is_valid!",
        "type_info": "Bool"
      },
      {
        "ordinal": 8,
        "name": "predicate?",
        "type_info": "Text"
      },
      {
        "ordinal": 9,
        "name": "tablespace?",
        "type_info": "Name"
      },
      {
        "ordinal": 10,
        "name": "comment?",
        "type_info": "Text"
      }
    ],
    "parameters": {
      "Left": []
    },
    "nullable": [
      false,
      false,
      false,
      false,
      false,
      false,
      false,
      false,
      null,
      false,
      false
    ]
  },
  "hash": "011290f114e6d52c0df97ac66b58de1cc99fd008076f88749b4796fa77f7e3ea"
}
