{
  "db_name": "PostgreSQL",
  "query": "\n        SELECT\n            p.oid AS \"func_oid!\",\n            -- Resolve array element type for parameters\n            CASE\n                WHEN t.typelem != 0 THEN elem_t.typname\n                ELSE t.typname\n            END AS \"type_name!\",\n            CASE\n                WHEN t.typelem != 0 THEN elem_tn.nspname\n                ELSE tn.nspname\n            END AS \"type_schema!\",\n            -- Get typtype to distinguish domains ('d') from other custom types ('e', 'c', etc.)\n            CASE\n                WHEN t.typelem != 0 THEN elem_t.typtype::text\n                ELSE t.typtype::text\n            END AS \"typtype!\",\n            -- Get relkind for composite types to distinguish table/view from explicit composite\n            CASE\n                WHEN t.typelem != 0 THEN elem_param_rel.relkind::text\n                ELSE param_rel.relkind::text\n            END AS \"param_relkind?\",\n            pg_catalog.format_type(t.oid, NULL) AS \"formatted_type!\",\n            t.typelem != 0 AS \"is_array!: bool\",\n            COALESCE(p.proargnames[param_num], '') AS \"param_name!\",\n            p.proargmodes[param_num - 1] AS \"param_mode\",\n            -- Check if parameter type (or element type for arrays) is from an extension\n            ext_types.extname IS NOT NULL AS \"is_extension_type!: bool\",\n            ext_types.extname AS \"extension_name?\"\n        FROM pg_proc p\n        JOIN pg_namespace n ON p.pronamespace = n.oid\n        CROSS JOIN LATERAL unnest(p.proargtypes) WITH ORDINALITY AS param_types(type_oid, param_num)\n        JOIN pg_type t ON param_types.type_oid = t.oid\n        JOIN pg_namespace tn ON t.typnamespace = tn.oid\n        -- Element type for array parameters\n        LEFT JOIN pg_type elem_t ON t.typelem = elem_t.oid AND t.typelem != 0\n        LEFT JOIN pg_namespace elem_tn ON elem_t.typnamespace = elem_tn.oid\n        -- Get relkind for composite types (to distinguish table/view from explicit composite)\n        LEFT JOIN pg_class param_rel ON t.typrelid = param_rel.oid AND t.typrelid != 0\n        LEFT JOIN pg_class elem_param_rel ON elem_t.typrelid = elem_param_rel.oid AND elem_t.typrelid != 0\n        -- Extension type lookup: compute once as derived table, then hash join\n        LEFT JOIN (\n            SELECT DISTINCT dep.objid AS type_oid, e.extname\n            FROM pg_depend dep\n            JOIN pg_extension e ON dep.refobjid = e.oid\n            WHERE dep.deptype = 'e'\n        ) ext_types ON ext_types.type_oid = COALESCE(NULLIF(t.typelem, 0::oid), t.oid)\n        WHERE n.nspname NOT IN ('pg_catalog', 'information_schema', 'pg_toast')\n        AND p.prokind != 'a'  -- Exclude aggregates, they're handled separately\n        -- Exclude functions that belong to extensions\n        AND NOT EXISTS (\n            SELECT 1 FROM pg_depend dep\n            WHERE dep.objid = p.oid\n            AND dep.deptype = 'e'\n        )\n        ORDER BY p.oid, param_types.param_num\n        ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "func_oid!",
        "type_info": "Oid"
      },
      {
        "ordinal": 1,
        "name": "type_name!",
        "type_info": "Name"
      },
      {
        "ordinal": 2,
        "name": "type_schema!",
        "type_info": "Name"
      },
      {
        "ordinal": 3,
        "name": "typtype!",
        "type_info": "Text"
      },
      {
        "ordinal": 4,
        "name": "param_relkind?",
        "type_info": "Text"
      },
      {
        "ordinal": 5,
        "name": "formatted_type!",
        "type_info": "Text"
      },
      {
        "ordinal": 6,
        "name": "is_array!: bool",
        "type_info": "Bool"
      },
      {
        "ordinal": 7,
        "name": "param_name!",
        "type_info": "Text"
      },
      {
        "ordinal": 8,
        "name": "param_mode",
        "type_info": "Char"
      },
      {
        "ordinal": 9,
        "name": "is_extension_type!: bool",
        "type_info": "Bool"
      },
      {
        "ordinal": 10,
        "name": "extension_name?",
        "type_info": "Name"
      }
    ],
    "parameters": {
      "Left": []
    },
    "nullable": [
      false,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      false
    ]
  },
  "hash": "3b6d1ab2a915a6b325586c57fbc121eedc63c4a79c13b91e49fea2c5cb3238c2"
}
